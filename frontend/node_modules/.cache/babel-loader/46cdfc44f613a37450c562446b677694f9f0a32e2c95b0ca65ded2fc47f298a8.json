{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Andrei Mroczkoski\\\\Downloads\\\\nivelamento-main\\\\nivelamento-main\\\\src\\\\pages\\\\ListaUsuarios\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Alerta from '../../components/Alerta';\nimport ModalConfirmarExclusao from '../../components/ModalConfirmarExclusao'; // Importe o componente\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ListaUsuarios() {\n  _s();\n  const [usuarios, setUsuarios] = useState([]);\n  const [usuarioParaExcluir, setUsuarioParaExcluir] = useState(null);\n  const [modalAberto, setModalAberto] = useState(false);\n  const [alerta, setAlerta] = useState(null);\n  useEffect(() => {\n    const buscarUsuarios = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:3001/usuarios\");\n        setUsuarios(response.data);\n      } catch (error) {\n        console.error(\"Erro ao buscar usuários:\", error);\n        setAlerta({\n          message: \"Falha ao buscar usuários.\",\n          type: \"danger\"\n        });\n      }\n    };\n    buscarUsuarios();\n  }, []);\n  const abrirModalExcluir = usuario => {\n    setUsuarioParaExcluir(usuario);\n    setModalAberto(true);\n  };\n  const fecharModalExcluir = () => {\n    setUsuarioParaExcluir(null);\n    setModalAberto(false);\n  };\n  const excluirUsuario = async () => {\n    try {\n      await axios.delete(`http://localhost:3001/usuarios/${usuarioParaExcluir.id}`);\n      setAlerta({\n        message: \"Usuário excluído com sucesso!\",\n        type: \"success\"\n      });\n      const response = await axios.get(\"http://localhost:3001/usuarios\");\n      setUsuarios(response.data);\n      fecharModalExcluir();\n    } catch (error) {\n      console.error(\"Erro ao excluir usuário:\", error);\n      setAlerta({\n        message: \"Falha ao excluir o usuário.\",\n        type: \"danger\"\n      });\n    }\n  };\n  const fecharAlerta = () => {\n    setAlerta(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5 mb-5\",\n    children: [alerta && /*#__PURE__*/_jsxDEV(Alerta, {\n      message: alerta.message,\n      type: alerta.type,\n      onClose: fecharAlerta\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 24\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-10\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card shadow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ModalConfirmarExclusao, {\n      isOpen: modalAberto,\n      onClose: fecharModalExcluir,\n      onConfirm: excluirUsuario,\n      itemNome: usuarioParaExcluir === null || usuarioParaExcluir === void 0 ? void 0 : usuarioParaExcluir.usuario\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_s(ListaUsuarios, \"5rkJduPBxRyoZQxr8YHFbH7oM8o=\");\n_c = ListaUsuarios;\nvar _c;\n$RefreshReg$(_c, \"ListaUsuarios\");","map":{"version":3,"names":["React","useState","useEffect","axios","Alerta","ModalConfirmarExclusao","jsxDEV","_jsxDEV","ListaUsuarios","_s","usuarios","setUsuarios","usuarioParaExcluir","setUsuarioParaExcluir","modalAberto","setModalAberto","alerta","setAlerta","buscarUsuarios","response","get","data","error","console","message","type","abrirModalExcluir","usuario","fecharModalExcluir","excluirUsuario","delete","id","fecharAlerta","className","children","onClose","fileName","_jsxFileName","lineNumber","columnNumber","isOpen","onConfirm","itemNome","_c","$RefreshReg$"],"sources":["C:/Users/Andrei Mroczkoski/Downloads/nivelamento-main/nivelamento-main/src/pages/ListaUsuarios/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Alerta from '../../components/Alerta';\r\nimport ModalConfirmarExclusao from '../../components/ModalConfirmarExclusao'; // Importe o componente\r\n\r\nexport default function ListaUsuarios() {\r\n    const [usuarios, setUsuarios] = useState([]);\r\n    const [usuarioParaExcluir, setUsuarioParaExcluir] = useState(null);\r\n    const [modalAberto, setModalAberto] = useState(false);\r\n    const [alerta, setAlerta] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const buscarUsuarios = async () => {\r\n            try {\r\n                const response = await axios.get(\"http://localhost:3001/usuarios\");\r\n                setUsuarios(response.data);\r\n            } catch (error) {\r\n                console.error(\"Erro ao buscar usuários:\", error);\r\n                setAlerta({ message: \"Falha ao buscar usuários.\", type: \"danger\" });\r\n            }\r\n        };\r\n\r\n        buscarUsuarios();\r\n    }, []);\r\n\r\n    const abrirModalExcluir = (usuario) => {\r\n        setUsuarioParaExcluir(usuario);\r\n        setModalAberto(true);\r\n    };\r\n\r\n    const fecharModalExcluir = () => {\r\n        setUsuarioParaExcluir(null);\r\n        setModalAberto(false);\r\n    };\r\n\r\n    const excluirUsuario = async () => {\r\n        try {\r\n            await axios.delete(`http://localhost:3001/usuarios/${usuarioParaExcluir.id}`);\r\n            setAlerta({ message: \"Usuário excluído com sucesso!\", type: \"success\" });\r\n            const response = await axios.get(\"http://localhost:3001/usuarios\");\r\n            setUsuarios(response.data);\r\n            fecharModalExcluir();\r\n        } catch (error) {\r\n            console.error(\"Erro ao excluir usuário:\", error);\r\n            setAlerta({ message: \"Falha ao excluir o usuário.\", type: \"danger\" });\r\n        }\r\n    };\r\n\r\n    const fecharAlerta = () => {\r\n        setAlerta(null);\r\n    };\r\n\r\n    return (\r\n        <div className=\"container mt-5 mb-5\">\r\n            {alerta && <Alerta message={alerta.message} type={alerta.type} onClose={fecharAlerta} />}\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col-md-10\">\r\n                    <div className=\"card shadow\">\r\n                        {/* ... (resto do seu código) ... */}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <ModalConfirmarExclusao\r\n                isOpen={modalAberto}\r\n                onClose={fecharModalExcluir}\r\n                onConfirm={excluirUsuario}\r\n                itemNome={usuarioParaExcluir?.usuario}\r\n            />\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}