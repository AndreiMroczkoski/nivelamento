{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Andrei Mroczkoski\\\\Downloads\\\\nivelamento-main\\\\nivelamento-main\\\\src\\\\components\\\\GridItem\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport Alerta from '../Alerta';\nimport ModalConfirmarExclusao from '../modalConfirmarExclusao';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function GridItem({\n  produto\n}) {\n  _s();\n  const navigate = useNavigate();\n  const [modalAberto, setModalAberto] = useState(false);\n  const [produtoParaExcluir, setProdutoParaExcluir] = useState(null);\n  const [alerta, setAlerta] = useState(null); // Estado para o alerta\n\n  const movimentar = () => {\n    navigate(`/MovimentarProduto/${produto.id}`);\n  };\n  const abrirModalExcluir = () => {\n    setProdutoParaExcluir(produto);\n    setModalAberto(true);\n  };\n  const fecharModalExcluir = () => {\n    setProdutoParaExcluir(null);\n    setModalAberto(false);\n  };\n  const excluirProduto = async () => {\n    try {\n      await axios.delete(`http://localhost:3001/produtos/${produtoParaExcluir.id}`);\n      setAlerta({\n        message: \"Produto excluído com sucesso!\",\n        type: \"success\"\n      });\n      setModalAberto(false);\n    } catch (error) {\n      console.error(\"Erro ao excluir produto:\", error);\n      setAlerta({\n        message: \"Falha ao excluir o produto.\",\n        type: \"danger\"\n      });\n    }\n    fecharModalExcluir();\n  };\n  const fecharAlerta = () => {\n    setAlerta(null);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [alerta && /*#__PURE__*/_jsxDEV(Alerta, {\n      message: alerta.message,\n      type: alerta.type,\n      onClose: fecharAlerta\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 24\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: produto.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: produto.nome\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [\"R$\", produto.preco]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: produto.categoria\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: produto.quantidade\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn bg-dark text-light\",\n          onClick: movimentar,\n          children: \"Movimentar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          onClick: abrirModalExcluir,\n          children: \"Excluir\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ModalConfirmarExclusao, {\n      isOpen: modalAberto,\n      onClose: fecharModalExcluir,\n      onConfirm: excluirProduto,\n      itemNome: produtoParaExcluir === null || produtoParaExcluir === void 0 ? void 0 : produtoParaExcluir.nome\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(GridItem, \"Ok84zqLRkP5P3V1Nl+Z0x91aSXU=\", false, function () {\n  return [useNavigate];\n});\n_c = GridItem;\nvar _c;\n$RefreshReg$(_c, \"GridItem\");","map":{"version":3,"names":["React","useState","useNavigate","axios","Alerta","ModalConfirmarExclusao","jsxDEV","_jsxDEV","Fragment","_Fragment","GridItem","produto","_s","navigate","modalAberto","setModalAberto","produtoParaExcluir","setProdutoParaExcluir","alerta","setAlerta","movimentar","id","abrirModalExcluir","fecharModalExcluir","excluirProduto","delete","message","type","error","console","fecharAlerta","children","onClose","fileName","_jsxFileName","lineNumber","columnNumber","nome","preco","categoria","quantidade","className","onClick","isOpen","onConfirm","itemNome","_c","$RefreshReg$"],"sources":["C:/Users/Andrei Mroczkoski/Downloads/nivelamento-main/nivelamento-main/src/components/GridItem/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport Alerta from '../Alerta';\nimport ModalConfirmarExclusao from '../modalConfirmarExclusao';\n\nexport default function GridItem({ produto }) {\n    const navigate = useNavigate();\n    const [modalAberto, setModalAberto] = useState(false);\n    const [produtoParaExcluir, setProdutoParaExcluir] = useState(null);\n    const [alerta, setAlerta] = useState(null); // Estado para o alerta\n\n    const movimentar = () => {\n        navigate(`/MovimentarProduto/${produto.id}`);\n    };\n\n    const abrirModalExcluir = () => {\n        setProdutoParaExcluir(produto);\n        setModalAberto(true);\n    };\n\n    const fecharModalExcluir = () => {\n        setProdutoParaExcluir(null);\n        setModalAberto(false);\n    };\n\n    const excluirProduto = async () => {\n        try {\n            await axios.delete(`http://localhost:3001/produtos/${produtoParaExcluir.id}`);\n            setAlerta({ message: \"Produto excluído com sucesso!\", type: \"success\" }); \n            setModalAberto(false)\n        } catch (error) {\n            console.error(\"Erro ao excluir produto:\", error);\n            setAlerta({ message: \"Falha ao excluir o produto.\", type: \"danger\" }); \n        }\n        fecharModalExcluir();\n    };\n\n    const fecharAlerta = () => {\n        setAlerta(null);\n    };\n\n    return (\n        <>\n            {alerta && <Alerta message={alerta.message} type={alerta.type} onClose={fecharAlerta} />} {/* Renderiza o alerta */}\n            <tr>\n                <td>{produto.id}</td>\n                <td>{produto.nome}</td>\n                <td>R${produto.preco}</td>\n                <td>{produto.categoria}</td>\n                <td>{produto.quantidade}</td>\n                <td>\n                    <button className=\"btn bg-dark text-light\" onClick={movimentar}>Movimentar</button>\n                </td>\n                <td>\n                    <button className=\"btn btn-danger\" onClick={abrirModalExcluir}>Excluir</button>\n                </td>\n            </tr>\n            <ModalConfirmarExclusao\n                isOpen={modalAberto}\n                onClose={fecharModalExcluir}\n                onConfirm={excluirProduto}\n                itemNome={produtoParaExcluir?.nome}\n            />\n        </>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}